<Window x:Class="WindowsSetup.App.Views.OptimizationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="L2 Setup - Windows Optimization Settings" 
        Height="650" Width="750"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:ColorZone Grid.Row="0" Mode="PrimaryMid" Padding="16">
            <StackPanel>
                <TextBlock Text="L2 Setup - Windows Optimization Settings" 
                          Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                          Foreground="White"/>
                <TextBlock Text="âœ… SAFE OPTIMIZATIONS ONLY - Carefully selected for reliability" 
                          Style="{StaticResource MaterialDesignBody2TextBlock}"
                          Foreground="#4CAF50" FontWeight="Bold"/>
                <TextBlock Text="These optimizations are 100% safe and tested" 
                          Style="{StaticResource MaterialDesignBody2TextBlock}"
                          Foreground="White" Opacity="0.9"/>
            </StackPanel>
        </materialDesign:ColorZone>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">

                <!-- Important Notice -->
                <materialDesign:Card Margin="0,0,0,16" Padding="16" Background="#E8F5E9">
                    <StackPanel>
                        <TextBlock Text="âœ… SAFE OPTIMIZATIONS" FontSize="16" FontWeight="Bold" Foreground="#2E7D32" Margin="0,0,0,8"/>
                        <TextBlock TextWrapping="Wrap" Foreground="#1B5E20">
                            <Run Text="These are the ONLY optimizations available. All risky options have been removed."/>
                            <LineBreak/>
                            <Run FontWeight="Bold" Text="âœ“ No network tweaks"/>
                            <Run Text=" (won't slow your internet)"/>
                            <LineBreak/>
                            <Run FontWeight="Bold" Text="âœ“ No service modifications"/>
                            <Run Text=" (won't break functionality)"/>
                            <LineBreak/>
                            <Run FontWeight="Bold" Text="âœ“ No system-critical changes"/>
                            <Run Text=" (won't cause instability)"/>
                        </TextBlock>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Quick Presets -->
                <materialDesign:Card Margin="0,0,0,16" Padding="16">
                    <StackPanel>
                        <TextBlock Text="âš¡ Quick Presets" FontSize="16" FontWeight="Bold" Margin="0,0,0,12"/>
                        <UniformGrid Columns="2" Rows="1">
                            <Button Content="âœ… Apply All Safe Optimizations" Click="RecommendedSafe_Click"
                                    Style="{StaticResource MaterialDesignRaisedButton}" 
                                    Background="#4CAF50" Margin="4" Height="50"/>
                            <Button Content="âŒ Deselect All" Click="DeselectAll_Click"
                                    Style="{StaticResource MaterialDesignOutlinedButton}" 
                                    Margin="4" Height="50"/>
                        </UniformGrid>
                    </StackPanel>
                </materialDesign:Card>

                <!-- PERFORMANCE OPTIMIZATIONS (100% Safe) -->
                <Expander Margin="0,0,0,8" IsExpanded="True">
                    <Expander.Header>
                        <TextBlock Text="ðŸš€ PERFORMANCE (2 options - All Safe)" FontSize="14" FontWeight="Bold"/>
                    </Expander.Header>
                    <StackPanel Margin="24,8,8,8">
                        <CheckBox x:Name="OptPowerPlan" Content="âœ… High Performance Power Plan" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Best for desktop PCs and gaming. May reduce laptop battery life." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptMouseAcceleration" Content="âœ… Disable Mouse Acceleration" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Better for gaming and precision work. Improves mouse consistency." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                    </StackPanel>
                </Expander>

                <!-- PRIVACY & TELEMETRY (100% Safe) -->
                <Expander Margin="0,0,0,8" IsExpanded="True">
                    <Expander.Header>
                        <TextBlock Text="ðŸ”’ PRIVACY &amp; TELEMETRY (5 options - All Safe)" FontSize="14" FontWeight="Bold"/>
                    </Expander.Header>
                    <StackPanel Margin="24,8,8,8">
                        <CheckBox x:Name="OptTelemetry" Content="âœ… Disable Windows Telemetry" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Stops Microsoft from collecting usage data." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptCortana" Content="âœ… Disable Cortana" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Disables voice assistant and related services." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptAdvertisingId" Content="âœ… Disable Advertising ID" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Prevents personalized ads tracking." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptLocationTracking" Content="âœ… Disable Location Tracking" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Stops Windows from tracking your location." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptDiagnostics" Content="âœ… Disable Diagnostic Data Collection" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Minimizes diagnostic data sent to Microsoft." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                    </StackPanel>
                </Expander>

                <!-- GAMING OPTIMIZATIONS (100% Safe) -->
                <Expander Margin="0,0,0,8" IsExpanded="True">
                    <Expander.Header>
                        <TextBlock Text="ðŸŽ® GAMING (3 options - All Safe)" FontSize="14" FontWeight="Bold"/>
                    </Expander.Header>
                    <StackPanel Margin="24,8,8,8">
                        <CheckBox x:Name="OptGameMode" Content="âœ… Enable Game Mode" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Prioritizes game performance when playing." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptGameBar" Content="âœ… Disable Game Bar" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Removes Xbox Game Bar overlay (frees resources)." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptGameDVR" Content="âœ… Disable Game DVR" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Disables background game recording." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                    </StackPanel>
                </Expander>

                <!-- UI TWEAKS (100% Safe) -->
                <Expander Margin="0,0,0,8" IsExpanded="True">
                    <Expander.Header>
                        <TextBlock Text="ðŸŽ¨ UI TWEAKS (2 options - All Safe)" FontSize="14" FontWeight="Bold"/>
                    </Expander.Header>
                    <StackPanel Margin="24,8,8,8">
                        <CheckBox x:Name="OptShowFileExtensions" Content="âœ… Show File Extensions" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Shows .txt, .exe, etc. in file names." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                        
                        <CheckBox x:Name="OptShowHiddenFiles" Content="âœ… Show Hidden Files" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Makes hidden system files visible in Explorer." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                    </StackPanel>
                </Expander>

                <!-- CLEANUP (100% Safe) -->
                <Expander Margin="0,0,0,8" IsExpanded="True">
                    <Expander.Header>
                        <TextBlock Text="ðŸ—‘ï¸ CLEANUP (1 option - Safe)" FontSize="14" FontWeight="Bold"/>
                    </Expander.Header>
                    <StackPanel Margin="24,8,8,8">
                        <CheckBox x:Name="OptCleanTemp" Content="âœ… Clean Temporary Files" Margin="0,5" IsChecked="True" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="   Removes Windows temp files and cache (frees disk space)." Opacity="0.7" Margin="0,0,0,8" FontSize="11"/>
                    </StackPanel>
                </Expander>

                <!-- Create Restore Point Option -->
                <materialDesign:Card Margin="0,16,0,8" Padding="16" Background="#FFF3E0">
                    <StackPanel>
                        <CheckBox x:Name="ChkCreateRestorePoint" Content="ðŸ’¾ Create System Restore Point" 
                                 IsChecked="True" FontWeight="Bold" FontSize="14"/>
                        <TextBlock Text="Highly recommended! Creates a restore point before applying changes." 
                                  TextWrapping="Wrap" Opacity="0.8" Margin="0,4,0,0"/>
                    </StackPanel>
                </materialDesign:Card>

            </StackPanel>
        </ScrollViewer>

        <!-- Bottom Bar -->
        <Border Grid.Row="2" Background="#F5F5F5" Padding="16" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="âš ï¸ A system restore point will be created before applying optimizations" 
                              FontSize="11" Opacity="0.7"/>
                    <TextBlock x:Name="SelectionCount" Text="13 optimizations selected" 
                              FontWeight="Bold" Foreground="#4CAF50"/>
                </StackPanel>

                <Button Grid.Column="1" Content="Cancel" Click="Cancel_Click" 
                       Style="{StaticResource MaterialDesignOutlinedButton}"
                       Padding="24,8" Margin="0,0,8,0"/>
                
                <Button Grid.Column="2" Content="Apply Optimizations" Click="Apply_Click"
                       Style="{StaticResource MaterialDesignRaisedButton}"
                       Background="#4CAF50" Padding="24,8"/>
            </Grid>
        </Border>

    </Grid>
</Window>
